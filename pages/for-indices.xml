<page id="for-indices" bg_color="#87CEEB" bg_image="snow-bg-neve.png" bg_music="osts-fear.mp3">
  
  <!-- Título -->
  <agent id="titulo-indices" x="270" y="15" width="260" height="30"
         text="🔢 Lição 3: Usando Índices" 
         color="#003366" font-size="20" animation="typewriter" />
  
  <!-- Narrativa introdutória -->
  <agent id="narrativa-indices-1" x="50" y="70" width="700" height="20"
         text="Na vila gelada, o contador precisa numerar cada iglu..." 
         color="#000080" font-size="16" animation="typewriter" />
  
  <agent id="narrativa-indices-2" x="50" y="100" width="700" height="20"
         text="Com índices no fab-for, ele pode criar posições e numerações automáticas!" 
         color="#000080" font-size="16" animation="typewriter" />
  
  <!-- Boneco de neve -->
  <agent id="boneco-contador" x="50" y="200" width="120" height="120"
         image="snow-snowman.png" animation="fade-in" />
  
  <!-- Seção: Sintaxe com Índice -->
  <agent id="sintaxe-indice-titulo" x="250" y="140" width="250" height="20"
         text="📝 Sintaxe com Índice:" 
         color="#ffff99" font-size="16" animation="typewriter" />
  
  <agent id="sintaxe-indice-exemplo" x="250" y="170" width="400" height="20"
         text="each=\"item in $lista\" index=\"i\"" 
         color="#87CEEB" font-size="14" />
  
  <!-- Demonstração: Numeração Automática -->
  <agent id="demo-titulo" x="250" y="210" width="200" height="20"
         text="🏠 Vila de Iglus:" 
         color="#004080" font-size="16" animation="typewriter" />
  
  <!-- Lista de materiais -->
  <property name="materiais" default="['gelo', 'neve', 'pedra']" />
  
  <agent id="materiais-lista" x="250" y="240" width="300" height="20"
         text="Materiais: $materiais" 
         color="#ffffff" font-size="14" />
  
  <!-- Iteração com índices -->
  <fab-for each="material in $materiais" index="i">
    <!-- Iglus numerados -->
    <agent id="iglu-$i" x="$250 + $i * 120" y="280" width="100" height="80"
           image="snow-igloo.png" />
    
    <!-- Números dos iglus -->
    <agent id="numero-$i" x="$270 + $i * 120" y="270" width="30" height="20"
           text="$i + 1" color="#ff0000" font-size="16" />
    
    <!-- Material usado -->
    <agent id="material-$i" x="$250 + $i * 120" y="370" width="100" height="20"
           text="$material" color="#ffffff" font-size="12" />
  </fab-for>
  
  <!-- Seção: Posicionamento Matemático -->
  <agent id="posicionamento-titulo" x="250" y="410" width="300" height="20"
         text="🧮 Posicionamento Matemático:" 
         color="#ff6b6b" font-size="16" animation="typewriter" />
  
  <agent id="formula-x" x="250" y="440" width="400" height="20"
         text="x=\"$250 + $i * 120\" - Espaça elementos 120px" 
         color="#ffffff" font-size="14" />
  
  <agent id="formula-exemplo" x="250" y="460" width="400" height="20"
         text="i=0: x=250 | i=1: x=370 | i=2: x=490" 
         color="#cccccc" font-size="12" />
  
  <!-- Botões para modificar -->
  <agent id="botao-add-material" x="550" y="240" width="150" height="30"
         text="➕ Adicionar Tijolo" color="#ffffff" font-size="12"
         on_click="set(materiais, $materiais.concat(['tijolo']))" />
  
  <agent id="botao-reset-materiais" x="550" y="280" width="150" height="30"
         text="🔄 Reset Materiais" color="#ffffff" font-size="12"
         on_click="set(materiais, ['gelo', 'neve', 'pedra'])" />
  
  <!-- Dicas práticas -->
  <agent id="dica-indices" x="50" y="350" width="180" height="80"
         text="💡 DICAS: - Índice começa em 0 - Use $i para posições - $i + 1 para numerar" 
         color="#ffff99" font-size="12" animation="typewriter" />
  
  <!-- Navegação -->
  <agent id="voltar-arrays" x="50" y="520" width="100" height="30"
         text="⬅️ Voltar" color="#666666" font-size="14"
         on_click="goToPage('for-arrays')" />
  
  <agent id="proximo-numerico" x="300" y="520" width="200" height="30"
         text="➡️ Próximo: Loops Numéricos" color="#003366" font-size="14"
         on_click="goToPage('for-numerico')" />
  
  <!-- Progresso -->
  <agent id="progresso-indices" x="20" y="20" width="150" height="20"
         text="Progresso: 3/8" color="#004080" font-size="12" />
</page> 